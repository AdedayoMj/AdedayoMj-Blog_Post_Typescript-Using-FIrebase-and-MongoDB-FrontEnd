{"ast":null,"code":"import { createContext } from \"react\";\nimport { DEFAULT_FIRE_TOKEN, DEFAULT_USER } from \"../interfaces/user\";\nexport const initialUserState = {\n  user: DEFAULT_USER,\n  fire_token: DEFAULT_FIRE_TOKEN\n};\nexport const userReducer = (state, action) => {\n  let user = action.payload.user;\n  let fire_token = action.payload.fire_token;\n\n  switch (action.type) {\n    case 'login':\n      localStorage.setItem('fire_token', fire_token);\n      return {\n        user,\n        fire_token\n      };\n\n    case 'logout':\n      localStorage.removeItem('fire_token');\n      return initialUserState;\n\n    default:\n      return state;\n  }\n};\nconst UserContext = /*#__PURE__*/createContext({\n  userState: initialUserState,\n  userDispatch: () => {}\n});\nexport const UserContextConsumer = UserContext.Consumer;\nexport const UserContextProvider = UserContext.Provider;\nexport default UserContext;","map":{"version":3,"sources":["/Users/macbook/quiz_run/quizrun/src/context/user.ts"],"names":["createContext","DEFAULT_FIRE_TOKEN","DEFAULT_USER","initialUserState","user","fire_token","userReducer","state","action","payload","type","localStorage","setItem","removeItem","UserContext","userState","userDispatch","UserContextConsumer","Consumer","UserContextProvider","Provider"],"mappings":"AAAA,SAASA,aAAT,QAA8B,OAA9B;AACA,SAAgBC,kBAAhB,EAAoCC,YAApC,QAAwD,oBAAxD;AAeA,OAAO,MAAMC,gBAA4B,GAAG;AACxCC,EAAAA,IAAI,EAAEF,YADkC;AAExCG,EAAAA,UAAU,EAAEJ;AAF4B,CAArC;AAMP,OAAO,MAAMK,WAAW,GAAG,CAACC,KAAD,EAAoBC,MAApB,KAA6C;AACpE,MAAIJ,IAAI,GAAGI,MAAM,CAACC,OAAP,CAAeL,IAA1B;AACA,MAAIC,UAAU,GAAGG,MAAM,CAACC,OAAP,CAAeJ,UAAhC;;AAEA,UAAQG,MAAM,CAACE,IAAf;AACI,SAAK,OAAL;AACIC,MAAAA,YAAY,CAACC,OAAb,CAAqB,YAArB,EAAmCP,UAAnC;AAEA,aAAO;AAAED,QAAAA,IAAF;AAAQC,QAAAA;AAAR,OAAP;;AACJ,SAAK,QAAL;AACIM,MAAAA,YAAY,CAACE,UAAb,CAAwB,YAAxB;AAEA,aAAOV,gBAAP;;AACJ;AACI,aAAOI,KAAP;AAVR;AAYH,CAhBM;AAuBP,MAAMO,WAAW,gBAAGd,aAAa,CAAoB;AACjDe,EAAAA,SAAS,EAAEZ,gBADsC;AAEjDa,EAAAA,YAAY,EAAE,MAAM,CAAE;AAF2B,CAApB,CAAjC;AAKA,OAAO,MAAMC,mBAAmB,GAAGH,WAAW,CAACI,QAAxC;AACP,OAAO,MAAMC,mBAAmB,GAAGL,WAAW,CAACM,QAAxC;AACP,eAAeN,WAAf","sourcesContent":["import { createContext } from \"react\";\nimport IUser, { DEFAULT_FIRE_TOKEN, DEFAULT_USER } from \"../interfaces/user\";\n\nexport interface IUserState {\n    user: IUser;\n    fire_token: string;\n}\n\nexport interface IUserActions {\n    type: 'login' | 'logout' | 'authenticate';\n    payload: {\n        user: IUser;\n        fire_token: string;\n    };\n}\n\nexport const initialUserState: IUserState = {\n    user: DEFAULT_USER,\n    fire_token: DEFAULT_FIRE_TOKEN\n};\n\n\nexport const userReducer = (state: IUserState, action: IUserActions) => {\n    let user = action.payload.user;\n    let fire_token = action.payload.fire_token;\n\n    switch (action.type) {\n        case 'login':\n            localStorage.setItem('fire_token', fire_token);\n\n            return { user, fire_token };\n        case 'logout':\n            localStorage.removeItem('fire_token');\n\n            return initialUserState;\n        default:\n            return state;\n    }\n};\n\nexport interface IUserContextProps {\n    userState: IUserState;\n    userDispatch: React.Dispatch<IUserActions>;\n}\n\nconst UserContext = createContext<IUserContextProps>({\n    userState: initialUserState,\n    userDispatch: () => {}\n});\n\nexport const UserContextConsumer = UserContext.Consumer;\nexport const UserContextProvider = UserContext.Provider;\nexport default UserContext;"]},"metadata":{},"sourceType":"module"}