{"ast":null,"code":"var _jsxFileName = \"/Users/macbook/quiz_run/quizrun/src/pages/forgot.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport { Redirect } from 'react-router-dom';\nimport { Button, FormGroup, Input } from 'reactstrap';\nimport CenterPiece from '../components/centerpiece';\nimport ErrorText from '../components/error_text';\nimport { auth } from '../config/firebase';\nimport logging from '../config/logging';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst ForgotPasswordChange = props => {\n  _s();\n\n  const [sending, setSending] = useState(false);\n  const [sent, setSent] = useState(false);\n  const [email, setEmail] = useState('');\n  const [error, setError] = useState('');\n  const fire_token = localStorage.getItem('fire_token');\n\n  const resetPasswordRequest = () => {\n    if (error !== '') setError('');\n    setSending(true);\n    auth.sendPasswordResetEmail(email).then(() => {\n      logging.info('Email sent.');\n      setSent(true);\n      setSending(false);\n    }).catch(error => {\n      logging.error(error);\n      setError(error.message);\n      setSending(false);\n    });\n  };\n\n  if (fire_token !== null) return /*#__PURE__*/_jsxDEV(Redirect, {\n    to: \"/\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 37,\n    columnNumber: 37\n  }, this);\n  return /*#__PURE__*/_jsxDEV(CenterPiece, {\n    header: \"Change Password\",\n    children: sent ? /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"A link has been sent to your email with instructions.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 17\n    }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Please enter your email.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(FormGroup, {\n        children: /*#__PURE__*/_jsxDEV(Input, {\n          type: \"email\",\n          name: \"email\",\n          id: \"email\",\n          placeholder: \"Email Address\",\n          onChange: event => setEmail(event.target.value),\n          value: email\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        disabled: sending,\n        color: \"success\",\n        block: true,\n        onClick: () => resetPasswordRequest(),\n        children: \"Send Reset Link\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(ErrorText, {\n        error: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 40,\n    columnNumber: 9\n  }, this);\n};\n\n_s(ForgotPasswordChange, \"KeWNM9OfziUxLmcZzHhrFmD54Wo=\");\n\n_c = ForgotPasswordChange;\nexport default ForgotPasswordChange;\n\nvar _c;\n\n$RefreshReg$(_c, \"ForgotPasswordChange\");","map":{"version":3,"sources":["/Users/macbook/quiz_run/quizrun/src/pages/forgot.tsx"],"names":["React","useState","Redirect","Button","FormGroup","Input","CenterPiece","ErrorText","auth","logging","ForgotPasswordChange","props","sending","setSending","sent","setSent","email","setEmail","error","setError","fire_token","localStorage","getItem","resetPasswordRequest","sendPasswordResetEmail","then","info","catch","message","event","target","value"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,SAASC,QAAT,QAAyB,kBAAzB;AACA,SAASC,MAAT,EAAiBC,SAAjB,EAA4BC,KAA5B,QAAyC,YAAzC;AACA,OAAOC,WAAP,MAAwB,2BAAxB;AACA,OAAOC,SAAP,MAAsB,0BAAtB;AACA,SAASC,IAAT,QAAqB,oBAArB;AACA,OAAOC,OAAP,MAAoB,mBAApB;;;;AAIA,MAAMC,oBAAyD,GAAGC,KAAK,IAAI;AAAA;;AACvE,QAAM,CAACC,OAAD,EAAUC,UAAV,IAAwBZ,QAAQ,CAAU,KAAV,CAAtC;AACA,QAAM,CAACa,IAAD,EAAOC,OAAP,IAAkBd,QAAQ,CAAU,KAAV,CAAhC;AACA,QAAM,CAACe,KAAD,EAAQC,QAAR,IAAoBhB,QAAQ,CAAS,EAAT,CAAlC;AACA,QAAM,CAACiB,KAAD,EAAQC,QAAR,IAAoBlB,QAAQ,CAAS,EAAT,CAAlC;AAEA,QAAMmB,UAAU,GAAGC,YAAY,CAACC,OAAb,CAAqB,YAArB,CAAnB;;AAEA,QAAMC,oBAAoB,GAAG,MAAM;AAC/B,QAAIL,KAAK,KAAK,EAAd,EAAkBC,QAAQ,CAAC,EAAD,CAAR;AAElBN,IAAAA,UAAU,CAAC,IAAD,CAAV;AAEAL,IAAAA,IAAI,CAACgB,sBAAL,CAA4BR,KAA5B,EACCS,IADD,CACM,MAAM;AACRhB,MAAAA,OAAO,CAACiB,IAAR,CAAa,aAAb;AACAX,MAAAA,OAAO,CAAC,IAAD,CAAP;AACAF,MAAAA,UAAU,CAAC,KAAD,CAAV;AACH,KALD,EAMCc,KAND,CAMOT,KAAK,IAAI;AACZT,MAAAA,OAAO,CAACS,KAAR,CAAcA,KAAd;AACAC,MAAAA,QAAQ,CAACD,KAAK,CAACU,OAAP,CAAR;AACAf,MAAAA,UAAU,CAAC,KAAD,CAAV;AACH,KAVD;AAWH,GAhBD;;AAkBA,MAAIO,UAAU,KAAK,IAAnB,EAAyB,oBAAO,QAAC,QAAD;AAAU,IAAA,EAAE,EAAC;AAAb;AAAA;AAAA;AAAA;AAAA,UAAP;AAEzB,sBACI,QAAC,WAAD;AAAa,IAAA,MAAM,EAAC,iBAApB;AAAA,cACCN,IAAI,gBACG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADH,gBAGG;AAAA,8BACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADJ,eAEI,QAAC,SAAD;AAAA,+BACI,QAAC,KAAD;AACI,UAAA,IAAI,EAAC,OADT;AAEI,UAAA,IAAI,EAAC,OAFT;AAGI,UAAA,EAAE,EAAC,OAHP;AAII,UAAA,WAAW,EAAC,eAJhB;AAKI,UAAA,QAAQ,EAAEe,KAAK,IAAIZ,QAAQ,CAACY,KAAK,CAACC,MAAN,CAAaC,KAAd,CAL/B;AAMI,UAAA,KAAK,EAAEf;AANX;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,cAFJ,eAYI,QAAC,MAAD;AACI,QAAA,QAAQ,EAAEJ,OADd;AAEI,QAAA,KAAK,EAAC,SAFV;AAGI,QAAA,KAAK,MAHT;AAII,QAAA,OAAO,EAAE,MAAMW,oBAAoB,EAJvC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAZJ,eAoBI,QAAC,SAAD;AAAW,QAAA,KAAK,EAAEL;AAAlB;AAAA;AAAA;AAAA;AAAA,cApBJ;AAAA;AAJR;AAAA;AAAA;AAAA;AAAA,UADJ;AA8BH,CA1DD;;GAAMR,oB;;KAAAA,oB;AA4DN,eAAeA,oBAAf","sourcesContent":["import React, { useState } from 'react';\nimport { Redirect } from 'react-router-dom';\nimport { Button, FormGroup, Input } from 'reactstrap';\nimport CenterPiece from '../components/centerpiece';\nimport ErrorText from '../components/error_text';\nimport { auth } from '../config/firebase';\nimport logging from '../config/logging';\n\nimport IPageProps from '../interfaces/pages';\n\nconst ForgotPasswordChange: React.FunctionComponent<IPageProps> = props => {\n    const [sending, setSending] = useState<boolean>(false);\n    const [sent, setSent] = useState<boolean>(false);\n    const [email, setEmail] = useState<string>('');\n    const [error, setError] = useState<string>('');\n\n    const fire_token = localStorage.getItem('fire_token');\n\n    const resetPasswordRequest = () => {\n        if (error !== '') setError('');\n\n        setSending(true);\n\n        auth.sendPasswordResetEmail(email)\n        .then(() => {\n            logging.info('Email sent.');\n            setSent(true);\n            setSending(false);\n        })\n        .catch(error => {\n            logging.error(error);\n            setError(error.message);\n            setSending(false);\n        });\n    }\n\n    if (fire_token !== null) return <Redirect to=\"/\" />;\n    \n    return (\n        <CenterPiece header=\"Change Password\">\n        {sent ?\n                <p>A link has been sent to your email with instructions.</p>\n            :\n                <>\n                    <p>Please enter your email.</p>\n                    <FormGroup>\n                        <Input \n                            type=\"email\"\n                            name=\"email\"\n                            id=\"email\"\n                            placeholder=\"Email Address\"\n                            onChange={event => setEmail(event.target.value)}\n                            value={email}\n                        />\n                    </FormGroup>\n                    <Button\n                        disabled={sending}\n                        color=\"success\"\n                        block\n                        onClick={() => resetPasswordRequest()}\n                    >\n                        Send Reset Link\n                    </Button>\n                    <ErrorText error={error} />\n                </>\n            }\n    </CenterPiece>\n    );\n}\n\nexport default ForgotPasswordChange;"]},"metadata":{},"sourceType":"module"}