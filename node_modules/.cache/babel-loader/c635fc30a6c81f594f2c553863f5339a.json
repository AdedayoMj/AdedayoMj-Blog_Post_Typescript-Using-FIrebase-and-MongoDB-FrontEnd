{"ast":null,"code":"var _jsxFileName = \"/Users/macbook/quiz_run/quizrun/src/pages/register.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport { Link, useHistory } from 'react-router-dom';\nimport { Button, FormGroup, Input } from 'reactstrap';\nimport CenterPiece from '../components/centerpiece';\nimport ErrorText from '../components/error_text';\nimport { auth } from '../config/firebase';\nimport logging from '../config/logging';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst RegisterPage = props => {\n  _s();\n\n  const [registering, setRegistering] = useState(false);\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [confirm, setConfirm] = useState('');\n  const [error, setError] = useState('');\n  const history = useHistory();\n\n  const signUpWithEmailAndPassword = () => {\n    if (error !== '') setError('');\n    setRegistering(true);\n    auth.createUserWithEmailAndPassword(email, password).then(result => {\n      var _auth$currentUser;\n\n      logging.info(result);\n      (_auth$currentUser = auth.currentUser) === null || _auth$currentUser === void 0 ? void 0 : _auth$currentUser.sendEmailVerification();\n      auth.signOut();\n      history.push('/login');\n    }).catch(error => {\n      logging.error(error);\n\n      if (error.code.includes('auth/weak-password')) {\n        setError('Please enter a stronger password.');\n      } else if (error.code.includes('auth/email-already-in-use')) {\n        setError('Email already in use.');\n      } else {\n        setError('Unable to register.  Please try again later.');\n      }\n\n      setRegistering(false);\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(CenterPiece, {\n    header: \"Sign Up\",\n    children: [/*#__PURE__*/_jsxDEV(FormGroup, {\n      children: /*#__PURE__*/_jsxDEV(Input, {\n        type: \"email\",\n        name: \"email\",\n        id: \"email\",\n        placeholder: \"Email Address\",\n        onChange: event => setEmail(event.target.value),\n        value: email\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(FormGroup, {\n      children: /*#__PURE__*/_jsxDEV(Input, {\n        autoComplete: \"new-password\",\n        type: \"password\",\n        name: \"password\",\n        id: \"password\",\n        placeholder: \"Enter Password\",\n        onChange: event => setPassword(event.target.value),\n        value: password\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(FormGroup, {\n      children: /*#__PURE__*/_jsxDEV(Input, {\n        autoComplete: \"new-password\",\n        type: \"password\",\n        name: \"confirm\",\n        id: \"confirm\",\n        placeholder: \"Confirm Password\",\n        onChange: event => setConfirm(event.target.value),\n        value: confirm\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Button, {\n      disabled: registering,\n      color: \"222454\",\n      block: true,\n      onClick: () => signUpWithEmailAndPassword(),\n      children: \"Sign Up\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"m-1 text-center\",\n        children: [\"Already have an account? \", /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/login\",\n          children: \"Login.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 73\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(ErrorText, {\n      error: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 50,\n    columnNumber: 9\n  }, this);\n};\n\n_s(RegisterPage, \"fuIV3JDq3pO+vQ/0Lb/q6MZ5NZo=\", false, function () {\n  return [useHistory];\n});\n\n_c = RegisterPage;\nexport default RegisterPage;\n\nvar _c;\n\n$RefreshReg$(_c, \"RegisterPage\");","map":{"version":3,"sources":["/Users/macbook/quiz_run/quizrun/src/pages/register.tsx"],"names":["React","useState","Link","useHistory","Button","FormGroup","Input","CenterPiece","ErrorText","auth","logging","RegisterPage","props","registering","setRegistering","email","setEmail","password","setPassword","confirm","setConfirm","error","setError","history","signUpWithEmailAndPassword","createUserWithEmailAndPassword","then","result","info","currentUser","sendEmailVerification","signOut","push","catch","code","includes","event","target","value"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport { Link, useHistory } from 'react-router-dom';\nimport { Button, FormGroup, Input } from 'reactstrap';\nimport CenterPiece from '../components/centerpiece';\nimport ErrorText from '../components/error_text';\nimport { auth } from '../config/firebase';\nimport logging from '../config/logging';\nimport IPageProps from '../interfaces/pages';\n\nconst RegisterPage: React.FunctionComponent<IPageProps> = props => {\n    const [registering, setRegistering] = useState<boolean>(false);\n    const [email, setEmail] = useState<string>('');\n    const [password, setPassword] = useState<string>('');\n    const [confirm, setConfirm] = useState<string>('');\n    const [error, setError] = useState<string>('');\n\n    const history = useHistory();\n\n    const signUpWithEmailAndPassword = () => {\n        if (error !== '') setError('');\n        setRegistering(true);\n        auth.createUserWithEmailAndPassword(email, password)\n        .then(result => {\n            logging.info(result);\n            auth.currentUser?.sendEmailVerification()\n            auth.signOut();\n            history.push('/login');\n        })\n        .catch(error => {\n            logging.error(error);\n\n            if (error.code.includes('auth/weak-password'))\n            {\n                setError('Please enter a stronger password.');\n            }\n            else if (error.code.includes('auth/email-already-in-use'))\n            {\n                setError('Email already in use.');\n            }\n            else\n            {\n                setError('Unable to register.  Please try again later.')\n            }\n\n            setRegistering(false);\n        });\n    }\n\n    return (\n        <CenterPiece header='Sign Up'>\n        <FormGroup>\n                <Input \n                    type=\"email\"\n                    name=\"email\"\n                    id=\"email\"\n                    placeholder=\"Email Address\"\n                    onChange={event => setEmail(event.target.value)}\n                    value={email}\n                />\n            </FormGroup>\n            <FormGroup>\n                <Input \n                    autoComplete=\"new-password\"\n                    type=\"password\"\n                    name=\"password\"\n                    id=\"password\"\n                    placeholder=\"Enter Password\"\n                    onChange={event => setPassword(event.target.value)}\n                    value={password}\n                />\n            </FormGroup>\n            <FormGroup>\n                <Input \n                    autoComplete=\"new-password\"\n                    type=\"password\"\n                    name=\"confirm\"\n                    id=\"confirm\"\n                    placeholder=\"Confirm Password\"\n                    onChange={event => setConfirm(event.target.value)}\n                    value={confirm}\n                />\n            </FormGroup>\n            <Button\n                disabled={registering}\n                color=\"222454\"\n                block\n                onClick={() => signUpWithEmailAndPassword()}\n            >\n                Sign Up\n            </Button>\n            <small>\n                <p className='m-1 text-center'>Already have an account? <Link to=\"/login\">Login.</Link></p>\n            </small>\n            <ErrorText error={error} />\n            </CenterPiece>\n    );\n}\n\nexport default RegisterPage;"]},"metadata":{},"sourceType":"module"}